<div class="w-full max-w-lg mx-auto mb-6 flex flex-col items-center">
    <!-- B·ªô ƒë·∫øm v√† Slider -->
    <div class="w-full mb-4">
        {% if current_topic %}
        <div class="text-center text-green-600 mb-2 font-bold text-lg">
            üìö {{ current_topic.name }}
        </div>
        {% endif %}
        <div class="text-center text-slate-600 mb-3 font-medium text-lg" id="card-counter">
            Th·∫ª s·ªë: {{ card_index + 1 }} / {{ total_cards }}
        </div>
        <input 
            type="range" 
            min="0"
            max="{{ total_cards - 1 if total_cards > 0 else 0 }}"
            value="{{ card_index }}"
            hx-get="/card"
            hx-target="#flashcard-container"
            hx-trigger="input"
            hx-push-url="true"
            hx-vals='{"topic": {{ topic_index }}, "card": parseInt(this.value)}'
            class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"
        >
    </div>

    <!-- N√∫t ƒëi·ªÅu khi·ªÉn -->
    <div class="flex items-center space-x-4 w-full justify-center">
        <button 
            hx-get="/card?topic={{ topic_index }}&card={{ prev_card_index }}"
            hx-target="#flashcard-container"
            hx-push-url="true"
            onclick="stopSpeaking()"
            class="bg-gray-400 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-gray-500 transition-transform transform hover:scale-105 text-base md:text-lg"
        >
            &larr; Tr∆∞·ªõc
        </button>
        <button 
            hx-get="/card?topic={{ topic_index }}&card={{ next_card_index }}"
            hx-target="#flashcard-container"
            hx-push-url="true"
            onclick="stopSpeaking()"
            class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-blue-700 transition-transform transform hover:scale-105 text-base md:text-lg"
        >
            Ti·∫øp theo &rarr;
        </button>
    </div>

    <!-- Dropdown ch·ªçn ch·ªß ƒë·ªÅ -->
    <div class="mt-4">
        <label for="topic-select" class="block text-sm font-medium text-gray-700 mb-2">Ch·ªçn ch·ªß ƒë·ªÅ:</label>
        <select 
            id="topic-select"
            name="topic"
            hx-get="/controls"
            hx-target="#controls-container"
            hx-trigger="change"
            hx-push-url="true"
            hx-vals='{"topic": this.value, "card": 0}'
            class="bg-white border border-gray-300 rounded-lg px-4 py-2 text-base font-medium text-gray-700 shadow-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent min-w-48"
        >
            {% for topic in topics %}
                <option value="{{ loop.index0 }}" {% if loop.index0 == topic_index %}selected{% endif %}>
                    {{ topic.name }}
                </option>
            {% endfor %}
        </select>
    </div>
</div>
